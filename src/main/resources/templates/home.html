<html lang="en" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:th="http://www.thymeleaf.org">
<head>
<!-- Meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width = device-width, initial-scale = 1, shrink-to-fit = no">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

<title>Watchlist App</title>
</head>

<body>
	<div class="container">
      <nav th:replace="fragments/menu :: menu"></nav>
		<h2  class = "mt-4">Welcome to the Watchlist application!</h2> <br>
		<h5 >Made for movie lovers who have a hard time choosing their next movie to watch.</h5> 	
		<span sec:authorize="isAnonymous()">
			Please Log in to add reviews or to view reviews from other users.
		</span>

		<span sec:authorize="isAuthenticated()">
			Click on <a href="http://localhost:8080/watchlist">watchlist</a> to views your reviews!!
			
			<h3>Latest Movies</h3>

			<table class="table">
				<thead class = "thead-light">
					<tr>
						<th class="text-left">Title</th>
						<th class="text-left">Rating</th>
						<th class="text-left">Priority</th>
						<th class="text-left">Comment</th>
						<th class="text-left"></th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="watchlistItem : ${watchlistItems}">
						<td th:text="${watchlistItem.title}">Avatar</td>
						<td th:text="${watchlistItem.rating}">7.8</td>
						<td th:text="${watchlistItem.priority}">LOW</td>
						<td th:text="${watchlistItem.comment}">Peter recommended</td>
						<td>
							<!-- <a href="#" class="btn btn-success" role="button" th:href="@{/watchlistItemForm(id=${watchlistItem.id})}">Review</a> -->
							<a href="#" class="btn btn-success" role="button" th:href="@{/#}">Review</a>

						</td>
					</tr>
				</tbody>
			</table>
			<hr/>
			<div >
				<div> Something Else </div>	 
			</div>
		</span>



	</div>

	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

</body>
</html>